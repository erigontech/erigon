package main

import (
	"encoding/json"
	"fmt"

	"github.com/ledgerwatch/erigon/cl/beacon/builder"
)

func main() {
	/*content := "{\"version\":\"deneb\",\"data\":{\"message\":{\"header\":{\"parent_hash\":\"0xaf64e50fe1ca408ecb40950776389d83afc245492be31a1f44f6fb7aae8fd181\",\"fee_recipient\":\"0x184ba627DB853244c9f17f3Cb4378cB8B39bf147\",\"state_root\":\"0x38e8cac59b574e28b14488cd0f87deb32803d46a2261ef04e3fe1ca22f731916\",\"receipts_root\":\"0x46ec11d1408d4f119c9c1b9ef0833d9e845bf54ea0c4b009547f5c7a6f5de191\",\"logs_bloom\":\"0x6b1c01e883b841848d126462108c0064027399801c149440c800611c4364802c000a64000822012855160481063d18c132f071020ba088208804925136ac412144e7a04ac21d16a6f284897e922d10048de0520012886e015150018419b1141404281004aa4e16d82002570282131b000a1831e6304705a93218c338ddd220d6c724e10110ec5010f08100882221130081016404084104e6201140031dc742006b1aa02eb942300107c8c3228102040400c2818030180b0019838a0a803a3081688184a216bc06c8983502d55e6e40310600a48248584c1c0a06dbe1147527a4901d84002a46100cc06d914e30042006e048539428aa128b931300120820c302\",\"prev_randao\":\"0x17beee045f3ac5200ee00a46e99718e0d1f2052815bfc16cacf71d5770f51afe\",\"block_number\":\"6083749\",\"gas_limit\":\"30000000\",\"gas_used\":\"14411176\",\"timestamp\":\"1718085912\",\"extra_data\":\"0x4275696c644149202868747470733a2f2f6275696c6461692e6e657429\",\"base_fee_per_gas\":\"808216432\",\"block_hash\":\"0xd57bd68588624076f6048385c448a38a4fb66a889596059c43e69a24cc37a601\",\"transactions_root\":\"0x215221777776429bd8f0a6da793dd993238f2380ee59f399bcac87087a53533c\",\"withdrawals_root\":\"0x4256f16ab1918724d17d92da65cbf6068947394fcd9db147d6a50e2328a4fe4e\",\"blob_gas_used\":\"0\",\"excess_blob_gas\":\"131072\"},\"blob_kzg_commitments\":[],\"value\":\"14742875282164771\",\"pubkey\":\"0xafa4c6985aa049fb79dd37010438cfebeb0f2bd42b115b89dd678dab0670c1de38da0c4e9138c9290a398ecd9a0b3110\"},\"signature\":\"0xb51472e1fd4e2e9c11b951a1f976e2f59cb02b6d167a44e157f33df5cf2a8c0e91eba7b4ee9e514e40ca06c240778294029625ef8ab9995e957fdf6ff34d4649d7bf5a0ab841184ebda025188e5fb51a4dc990c64e0a744a02cf669d1ee54059\"}}\n"

	payload := &builder.ExecutionPayloadHeader{}
	if err := json.Unmarshal([]byte(content), payload); err != nil {
		panic(err)
	}

	fmt.Printf("Payload: %+v\n", payload)
	// print value
	fmt.Printf("Block value: %v\n", payload.BlockValue())

	*/
	payload := "{\"signature\":\"0x8efc8d6d98799edaa7ca08741238920ec3f4e92566e1f6744cd0b5e2bf6a158ed6d447f5255c4caee3d09bb0789149fe088547fff846cc96ac82e6300e70870fe28ed9965932d35fbb4b5ed0d990c87c0cd4d026e2f9717a9954cf8bd3047e96\",\"message\":{\"slot\":\"5196925\",\"proposer_index\":\"336\",\"parent_root\":\"0xb41c6db39095eb7f399a7e88952eb569bd8610d857fbd9c7e4f0554b04fc9576\",\"state_root\":\"0xeedc5e2e4287e51cc2a52a4838e85606d0e157c358a5a9f1f0d6fba2fc5f279e\",\"body\":{\"randao_reveal\":\"0x87ab2b98f8a7c0c8696a25f1ba5964dc6eb7fc253abc2dc44aaea962deb8ea237a7393e5e0c15a5f02f626050ab3887700d9c6d1380a6dd2a4bfb4b812f67ae1ff489993ceb8e22218e9bd198053250bbef9d4f182a6299f98efa4e61a8b3094\",\"eth1_data\":{\"deposit_root\":\"0x0000000000000000000000000000000000000000000000000000000000000000\",\"deposit_count\":\"0\",\"block_hash\":\"0x0000000000000000000000000000000000000000000000000000000000000000\"},\"graffiti\":\"0x00000000000000000000000000000000000000000000000000004361706c696e\",\"proposer_slashings\":[],\"attester_slashings\":[],\"attestations\":[{\"aggregation_bits\":\"0xffffffdfffffff\",\"signature\":\"0xb5a8b0dc73676a25c69bea22e6a3f4078e6fd5dca505e9792c8bf7360f9afeed2206ed412102a161bf9844829467682d0703af2b4bcfcc8195423c258b32d91584ecead21e476c82a1d38c5786f2b6ab515991f6eeaf86533eb2ab06d925e6ef\",\"data\":{\"slot\":\"5196924\",\"index\":\"0\",\"beacon_block_root\":\"0xb41c6db39095eb7f399a7e88952eb569bd8610d857fbd9c7e4f0554b04fc9576\",\"source\":{\"epoch\":\"162402\",\"root\":\"0xebc218e8976c3b74a8bdf575c3a4a9c47d5ca409e220ed54a87bd20f9deac57f\"},\"target\":{\"epoch\":\"162403\",\"root\":\"0xbabf82fbc9495488d1e7a9307cc2d25561aa9dca4583fb18a55228218f9b3440\"}}}],\"deposits\":[],\"voluntary_exits\":[],\"sync_aggregate\":{\"sync_committee_bits\":\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\",\"sync_committee_signature\":\"0x96b024274ab5d35ed451ce5ce03264eb8d136fe59fc0dea3a6050843dcc1a5c40c95e2ea5b4df9eac8642c160ba32d3e18e93bdbfcd24426878a8e1306e7eb2ed35e81ebd08851897f54262448a0dc9914c4ed1a41c27d24c995b09623fc86b9\"},\"execution_payload_header\":{\"parent_hash\":\"0x4d0ddf85d6e5d668b356d300394555e63200cc44b46a75ac51ad7e25d03fe9d0\",\"fee_recipient\":\"0x184ba627db853244c9f17f3cb4378cb8b39bf147\",\"state_root\":\"0x59245e2821f0c9d225bbef287f0056e95db1ee604fd8d0e36316c143e1df9113\",\"receipts_root\":\"0x69cc739b4c156513c5c905b9a291df03ce9742e25500a1bfa73865346ff359bc\",\"logs_bloom\":\"0x281d80a818f05018c2d2440a0890c0248443314058008448028140086d89c208020c02b1610752401612412b190e0981421113060240480120851221976820506220200a18148316d116208e102a00031c63581520886240210682c10810000108a800802a020000062c850980000d10102891e9010a511880a6021142c02a102f47224d4154c0203062a50a2458152288480420d015583c019512a9ad141600520d0482c9000ad40add0003386084100642ca43005a240900822b8b160686cc0085630b9cb0460810a107739c225280106282a07490819006007b7dc1236c12c052529088c4080c810c7200b0402900085030284910150200003272000c4100\",\"prev_randao\":\"0xc7791b7f7810ded641f97911a1051a2b662e44e89652b1670d9bf9fc14a45e80\",\"block_number\":\"6084597\",\"gas_limit\":\"30000000\",\"gas_used\":\"11284879\",\"timestamp\":\"1718096700\",\"extra_data\":\"0x4275696c644149202868747470733a2f2f6275696c6461692e6e657429\",\"base_fee_per_gas\":\"3876390830\",\"block_hash\":\"0x62b295d485d259babdb4c8b8a43d5e036e1e65f90036b0faaf600dcd80fdf792\",\"transactions_root\":\"0x61ae8a6f8754c9d34ee2c9dacb38e2e586089895ce9dee5571b8479c9949901a\",\"withdrawals_root\":\"0x1608014cacc3d3e1e8abccf9d6ba491587725fcd4bc65c744033e7b7fb7bcf4a\",\"blob_gas_used\":\"262144\",\"excess_blob_gas\":\"524288\"},\"bls_to_execution_changes\":[],\"blob_kzg_commitments\":[\"0xb0c1022f552aede9aee79d81d3d3c76a0268d795c7cad08137ce9ca3217bc47e3e4c74552707b843ecf74d951f07a9ef\",\"0xb20310ed4d5251426842082db0db1d51331486445a9f0b90380253299981e9873617efe2ea8b6c74a7d98dbf3399d854\"]}}}"

	data := &builder.BlindedBlockResponse{}
	if err := json.Unmarshal([]byte(payload), data); err != nil {
		panic(err)
	}

	fmt.Printf("Data: %+v\n", data)
}
